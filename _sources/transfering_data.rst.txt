انتقال فایل
===========

.. contents::

برای انتقال فایل‌ها بین رایانه شخصی و سرور باید از پروتکل ``SSH`` استفاده کرد. در این بخش در مورد انتقال فایل از رایانه‌ها با سیستم‌عامل لینوکس و ویندوز به سرور با استفاده از این پروتکل توضیح داده می‌شود.

سیستم‌عامل لینوکس:
------------------

scp:
~~~~

راحترین روش، استفاده از دستور ``scp`` است. از این دستور می ‌توانیم به راحتی، تنها با استفاده از یک ترمینال استفاده کنیم. با استفاده از این ابزار می‌توانید مجموعه فایل‌ها و پوشه‌ها را از یک هاست به هاست دیگری، با داشتن آدرس ``IP`` و اجازه دسترسی به آن منتقل کنید. شکل ظاهری آن به شکل زیر است:

::

 scp [[user@]host1:]file1 ... [[user@]host2:]file2
 
با استفاده از این دستور می‌توانید فایل‌ها را به سرور انتقال دهید و همچنین از سرور به رایانه خود منتقل کنید. مثال زیر انتقال یک پوشه از رایانه شخصی به سرور را نشان می‌دهد.

::

 scp -r my_folder my_username@172.16.187.30:/home/my_username/any_folder_path
 
برای انتقال فایل نیز، مشابه مثال بالا است و تنها تگ ``r-`` اجباری نیست. مثال دیگر انتقال یک پوشه از سرور به رایانه شخصی را نشان می‌دهد.

::

 scp -r my_username@172.16.187.30:/home/my_username/my_folder any_folder_path
 
چنان‌چه متوجه شدید، تنها مکان مبدا و مقصد در دستور بالا جابه‌جا شده‌است. در واقع در این دستور، اول باید مبدا و سپس مقصد مشخص تعین شود.

.. note:: فایل‌های لوکال باید با استفاده از یک مسیر مطلق یا نسبی مشخص شوند در حالی که نام فایل‌های راه دور باید مشخصات کاربر و میزبان را شامل شود.

.. note:: برای انتقال فایل‌های بزرگ بهتر است دستور ``scp`` را در درون یک `session <https://linuxize.com/post/how-to-use-linux-screen>`_ اجرا کنید.


FileZilla:
~~~~~~~~~~



نرم‌افزار `FileZilla <https://filezilla-project.org>`_ منبع‌باز و رایگان است که در سیستم‌عامل‌های ``Windows``, ``Linux``, ``Mac`` قابل اجراست. بعد از نصب، نرم‌افزار را اجر کرده. ابتدا مطابق شکل زیر برروی ``Edit`` سپس ``Settings`` کلیک کرده، پنجره ``Settings`` باز خواهد شد. در قسمت ``Passive Mode``، قسمت ``Use the server's external IP address`` را انتخاب و سپس ``Ok`` کنید.

.. image:: _static/filezilla.png

حال می‌توانید از نرم‌افزار استفاده کنید. مقدار ``Host`` را  ``172.16.187.30`` قرار داده و ``username`` و ``password`` خود را وارد کنید. همچنین مقدار ``Port`` را 22 قرار داده و  بر روی ``Quickconnect`` کلیک کنید. در سمت راست صفحه نمایش، پوشه ``HOME`` سرور نشان داده خواهدشد که شما می‌توانید، فایل‌های خود را به روش ``Drag & Drop`` را داخل آن قرار داده و یا از آن بردارید. 

.. image:: _static/filezilla2.png

سیستم‌عامل ویندوز:
------------------

در سیستم‌عامل ویندوز می‌توانید از نرم‌افزار `FileZilla <https://filezilla-project.org>`_ با استفاده از روش توضیح داده شده در `بالا <transfering_data.html#filezilla>`_ استفاده کنید.

دانلود از اینترنت:
------------------

کاربران باید توجه کنند که ``head node`` سرور به اینترنت وصل نیست و در نتیجه امکان دانلود مستقیم هیچ فایلی وجود ندارد. اگر نیاز به فایل و یا ``source`` برنامه خاصی از اینترنت دارید، باید ابتدا آن را بر روی رایانه‌شخصی خود دانلود کرده و سپس با استفاده از روش‌های اشاره شده در قسمت بالا به سرور انتقال دهید.



 
